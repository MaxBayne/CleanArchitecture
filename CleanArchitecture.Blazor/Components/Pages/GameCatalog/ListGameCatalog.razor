@page "/gamecatalog/list"

@using CleanArchitecture.Blazor.ViewModels.GameCatalog

@code
{

    private GamesClient _gamesClient = null!;
    private ViewGameCatalogViewModel _viewModel = null!;

    //Called When Sending Parameters to Component from its Parent
    protected override void OnParametersSet()
    {

    }

    //Called When Component is ready to start and its parameters was set
    protected override void OnInitialized()
    {
        _gamesClient = new GamesClient();
        _viewModel = new ViewGameCatalogViewModel();

        _viewModel.GameCatalogs = _gamesClient.GetGameCatalogs();
    }

}


<PageTitle>Game Catalog</PageTitle>

<h3>Game Catalog</h3>

@if (_viewModel.GameCatalogs.Any())
{
    <table class="table table-bordered table-hover table-striped">

        <thead class="table-dark" >
        <th class="text-center">Id</th>
        <th>Name</th>
        <th class="text-center">Genre</th>
        <th class="text-end">Price</th>
        <th class="text-center">Year</th>
        <th class="text-center">Action</th>
        </thead>

        <tbody>
            @foreach (var game in _viewModel.GameCatalogs)
        {
            <tr>
                <td class="text-center text-dark">@game.Id</td>
                <td>@game.Name</td>
                <td class="text-center">@game.Genre</td>
                <td class="text-end">@game.Price.ToString("c2")</td>
                <td class="text-center">@game.Year</td>
                <td class="text-center">Edit</td>
            </tr>
        }
        </tbody>
    </table>
}
else
{
    <div class="bg-warning">
        Sorry No Game Catalogs
    </div>
}

